<div  ng-controller='graphite'
      ng-init="init()"
      style="min-height:{{panel.height || row.height}}"
      ng-class='{"panel-fullscreen": showFullscreen}'>

  <style>
    .histogram-legend {
      display:inline-block;
      padding-right:5px
    }
    .histogram-legend-dot {
      display:inline-block;
      height:10px;
      width:10px;
      border-radius:5px;
    }
    .histogram-legend-item {
      display:inline-block;
    }
    .histogram-chart {
      position:relative;
    }
    .histogram-options {
      padding: 5px;
      margin-right: 15px;
      margin-bottom: 0px;
    }
    .histogram-options label {
      margin: 0px 0px 0px 10px !important;
    }
    .histogram-options span {
      white-space: nowrap;
    }

    /* this is actually should be in bootstrap */
    .form-inline .checkbox {
        display: inline-block;
    }
  </style>
  <div>
    <span ng-show='panel.options'>
      <a class="link underline small" ng-show='panel.options' ng-click="options=!options">
        <i ng-show="!options" class="icon-caret-right"></i><i ng-show="options" class="icon-caret-down"></i> View
      </a> |&nbsp
    </span>
  </div>

  <center><img ng-show='panel.loading && _.isUndefined(data)' src="img/load_big.gif"></center>

  <div histogram-chart class="pointer histogram-chart" params="{{panel}}">
  </div>

  <div class="grafana-legend-container">
    <span ng-show="panel.legend"
          ng-class="{'pull-right': series.yaxis === 2, 'hidden-series': hiddenSeries[series.alias]}"
          ng-repeat='series in legend'
          class="histogram-legend">
        <i  class='icon-circle pointer'
            ng-style="{color: series.color}"
            bs-popover="'app/panels/graphite/seriesColor.html'"
            data-unique="1"
            data-placement="bottomLeft">
        </i>
        <span class='small histogram-legend-item'>
          <a ng-click="toggleSeries(series)">
            {{series.alias}}
          </a>
        </span>
    </span>
  </div>

  <div class="panel-full-edit-tabs" ng-if="inEditMode">
      <div ng-model="editor.index" bs-tabs>
        <div ng-repeat="tab in editorTabs" data-title="{{tab}}">
        </div>
      </div>
      <div ng-show="editorTabs[editor.index] == 'General'">
        <div ng-include src="'app/partials/panelgeneral.html'"></div>
      </div>
      <div ng-repeat="tab in panelMeta.fullEditorTabs" ng-show="editorTabs[editor.index] == tab.title">
        <div ng-include src="tab.src"></div>
      </div>
  </div>
</div>