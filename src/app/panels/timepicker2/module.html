<div ng-controller='timepicker2' ng-init="init()">
  <style>
    .timepicker-timestring {
      font-weight: normal;
    }

    .timepicker-dropdown {
      margin: 0px !important;
      border: 0px !important;
    }
  </style>
  <!--  This is a complete hack. The form actually exists in the modal, but due to transclusion
        $scope.input isn't available on the controller unless the form element is in this file -->
  <form name="input" style="margin:3px 0 0 0">
    <ul class="nav nav-pills timepicker-dropdown">
      <li class="dropdown" bs-tooltip="(time.from.date | date:'yyyy-MM-dd HH:mm:ss.sss') + ' to ' +(time.to.date | date:'yyyy-MM-dd HH:mm:ss.sss')" data-placement="bottom" ng-click="dismiss();">
        <a class="dropdown-toggle timepicker-dropdown" data-toggle="dropdown" href="#">

          <span class="small" ng-show="filterSrv.idsByType('time').length">
            <span class="pointer" ng-hide="panel.now">{{time.from.date | date:'MMM d, y HH:mm:ss'}}</span>
            <span class="pointer" ng-show="panel.now">{{time.from.date | moment:'ago'}}</span>
            to
            <span class="pointer" ng-hide="panel.now" >{{time.to.date | date:'MMM d, y HH:mm:ss'}}</span>
            <span class="pointer" ng-show="panel.now">{{time.to.date | moment:'ago'}}</span>
          </span>
          <span ng-hide="filterSrv.idsByType('time').length">Set a time filter</span>
          <i class="small icon-caret-down"></i>
        </a>
        <ul class="dropdown-menu">
          <li ng-repeat='timespan in panel.time_options'>
            <a ng-click="setRelativeFilter(timespan)">Last {{timespan}}</a>
          </li>
          <li><a ng-click="customTime()">Custom</a></li>
        </ul>
      </li>
    </ul>

  </form>
</div>