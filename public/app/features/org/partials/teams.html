<page-header model="ctrl.navModel"></page-header>

<div class="page-container page-body">
	<div class="page-action-bar">

    <div class="gf-form gf-form--grow">
      <label class="gf-form-label">Search</label>
      <input type="text" class="gf-form-input max-width-20" placeholder="Find Team by name" tabindex="1" give-focus="true"
          ng-model="ctrl.query" ng-model-options="{ debounce: 500 }" spellcheck='false' ng-change="ctrl.get()" />
    </div>

    <div class="page-action-bar__spacer"></div>

    <a class="btn btn-success" ng-click="ctrl.openTeamModal()">
      <i class="fa fa-plus"></i>
			Add Team
    </a>
  </div>

  <div class="admin-list-table">
    <table class="filter-table filter-table--hover form-inline" ng-show="ctrl.teams.length > 0">
      <thead>
        <tr>
          <th>Name</th>
          <th>Members</th>
          <th style="width: 1%"></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="team in ctrl.teams">
          <td class="link-td">
            <a href="org/teams/edit/{{team.id}}">{{team.name}}</a>
          </td>
          <td class="link-td">
            <a href="org/teams/edit/{{team.id}}">#Count</a>
          </td>
          <td class="text-right">
            <a ng-click="ctrl.deleteTeam(team)" class="btn btn-danger btn-small">
              <i class="fa fa-remove"></i>
            </a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="admin-list-paging" ng-if="ctrl.showPaging">
    <ol>
      <li ng-repeat="page in ctrl.pages">
        <button
          class="btn btn-small"
          ng-class="{'btn-secondary': page.current, 'btn-inverse': !page.current}"
          ng-click="ctrl.navigateToPage(page)">{{page.page}}</button>
      </li>
    </ol>
  </div>

  <em class="muted" ng-hide="ctrl.teams.length > 0">
    No Teams found.
  </em>
</div>
