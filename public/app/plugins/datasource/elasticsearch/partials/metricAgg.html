<div class="tight-form">
	<ul class="tight-form-list">
		<li class="tight-form-item query-keyword tight-form-align" style="width: 75px;">
			Metric
		</li>
		<li>
			<metric-segment-model property="agg.type" options="metricAggTypes" on-change="onChange()"></metric-segment-model>
		</li>
		<li ng-if="agg.type !== 'count'">
			<metric-segment-model property="agg.field" get-options="getFields()" on-change="onChange()"></metric-segment>
		</li>
		<li class="tight-form-item tight-form-align" ng-if="aggOptionsString">
			<a ng-click="toggleOptions()">{{aggOptionsString}}</a>
		</li>
	</ul>

	<ul class="tight-form-list pull-right">
		<li class="tight-form-item last" ng-if="isFirst">
			<a class="pointer" ng-click="addMetricAgg()"><i class="fa fa-plus"></i></a>
		</li>
		<li class="tight-form-item last" ng-if="!isSingle">
			<a class="pointer" ng-click="removeMetricAgg()"><i class="fa fa-minus"></i></a>
		</li>
	</ul>
	<div class="clearfix"></div>
</div>


