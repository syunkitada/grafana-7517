<div  class="tight-form">
	<ul class="tight-form-list pull-right">
		<li ng-show="parserError" class="tight-form-item">
			<a bs-tooltip="parserError" style="color: rgb(229, 189, 28)" role="menuitem">
				<i class="fa fa-warning"></i>
			</a>
		</li>
		<li class="tight-form-item">
			<div class="dropdown">
				<a  class="pointer dropdown-toggle" data-toggle="dropdown" tabindex="1">
					<i class="fa fa-bars"></i>
				</a>
				<ul class="dropdown-menu pull-right" role="menu">
					<li role="menuitem"><a tabindex="1" ng-click="toggleQueryMode()">Switch editor mode</a></li>
					<li role="menuitem"><a tabindex="1" ng-click="duplicateDataQuery(target)">Duplicate</a></li>
					<li role="menuitem"><a tabindex="1" ng-click="moveDataQuery($index, $index-1)">Move up</a></li>
					<li role="menuitem"><a tabindex="1" ng-click="moveDataQuery($index, $index+1)">Move down</a></li>
				</ul>
			</div>
		</li>

		<li class="tight-form-item last">
			<a class="pointer" tabindex="1" ng-click="removeDataQuery(target)">
				<i class="fa fa-remove"></i>
			</a>
		</li>
	</ul>

	<ul class="tight-form-list">
		<li class="tight-form-item" style="min-width: 15px; text-align: center">
			{{target.refId}}
		</li>
		<li>
			<a class="tight-form-item" ng-click="target.hide = !target.hide; get_data();" role="menuitem">
				<i class="fa fa-eye"></i>
			</a>
		</li>
	</ul>

	<ul class="tight-form-list">
		<li class="tight-form-item query-keyword">
			Timestamp field
		</li>
		<li>
			<metric-segment segment="timestampSegment" get-alt-segments="getFields()" on-value-changed="timestampChanged()"></metric-segment>
		</li>
	</ul>

	<div class="clearfix"></div>
</div>

<div class="tight-form" ng-hide="target.rawQuery">
	<ul class="tight-form-list">
		<li class="tight-form-item query-keyword tight-form-align" style="width: 75px;">
			Value field
		</li>
		<li>
			<metric-segment segment="valueFieldSegment" get-alt-segments="getFields()"  on-value-changed="valueFieldChanged()"></metric-segment>
		</li>
	</ul>

	<div class="clearfix"></div>
</div>

<div class="tight-form" ng-hide="target.rawQuery">
	<ul class="tight-form-list">
		<li class="tight-form-item query-keyword tight-form-align" style="width: 75px;">
			Term
		</li>

		<li>
			<metric-segment segment="termKeySegment" on-value-changed="termKeySegmentChanged()"></metric-segment>
		</li>

		<li>
			<span class="tight-form-item">:</span>
		</li>

		<li>
			<metric-segment segment="termValueSegment" on-value-changed="termValueSegmentChanged()"></metric-segment>
		</li>
	</ul>
	<div class="clearfix"></div>
</div>

<div class="tight-form" ng-hide="target.rawQuery">
	<ul class="tight-form-list">
		<li class="tight-form-item">
			<i class="fa fa-eye invisible"></i>
		</li>
		<li class="tight-form-item query-keyword" style="width: 75px;">
			Group By
		</li>
		<li>
			<metric-segment segment="groupByFieldSegment" on-value-changed="groupByFieldChanged()"></metric-segment>
		</li>
	</ul>

	<div class="clearfix"></div>
</div>
	</div>
</div>
