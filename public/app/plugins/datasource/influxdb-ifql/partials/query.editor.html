<query-editor-row query-ctrl="ctrl" can-collapse="true" has-text-edit-mode="true">

  <div class="gf-form">
    <textarea rows="3" class="gf-form-input" ng-model="ctrl.target.query" spellcheck="false" placeholder="IFQL Query" ng-model-onblur
      ng-change="ctrl.refresh()"></textarea>
  </div>
  <div class="gf-form-inline">
    <div class="gf-form">
      <label class="gf-form-label query-keyword">FORMAT AS</label>
      <div class="gf-form-select-wrapper">
        <select class="gf-form-input gf-size-auto" ng-model="ctrl.target.resultFormat" ng-options="f.value as f.text for f in ctrl.resultFormats"
          ng-change="ctrl.refresh()"></select>
      </div>
    </div>
    <div class="gf-form max-width-25" ng-hide="ctrl.target.resultFormat === 'table'">
      <label class="gf-form-label query-keyword">ALIAS BY</label>
      <input type="text" class="gf-form-input" ng-model="ctrl.target.alias" spellcheck='false' placeholder="Naming pattern" ng-blur="ctrl.refresh()">
    </div>
    <div class="gf-form gf-form--grow">
      <div class="gf-form-label gf-form-label--grow"></div>
    </div>
  </div>

</query-editor-row>