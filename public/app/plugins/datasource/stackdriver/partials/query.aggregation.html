<div class="gf-form-inline">
  <div class="gf-form">
    <label class="gf-form-label query-keyword width-9">Aggregation</label>
    <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">
      <stackdriver-picker
        onChange="ctrl.handleAggregationChange"
        selected="ctrl.target.aggregation.crossSeriesReducer"
        options="ctrl.aggOptions"
        searchable="true"
        placeholder="'Select Aggregation'"
        className="'width-15'"
      ></stackdriver-picker>
    </div>
  </div>
  <div class="gf-form gf-form--grow">
    <label class="gf-form-label gf-form-label--grow">
      <a ng-click="ctrl.target.showAggregationOptions = !ctrl.target.showAggregationOptions">
        <i class="fa fa-caret-down" ng-show="ctrl.target.showAggregationOptions"></i>
        <i class="fa fa-caret-right" ng-hide="ctrl.target.showAggregationOptions"></i> Advanced Options
      </a>
    </label>
  </div>
</div>
<div class="gf-form-group" ng-if="ctrl.target.showAggregationOptions">
  <div class="gf-form offset-width-9">
    <label class="gf-form-label query-keyword width-12">Aligner</label>
    <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">
      <stackdriver-picker
        onChange="ctrl.handleAlignmentChange"
        selected="ctrl.target.aggregation.perSeriesAligner"
        options="ctrl.alignOptions"
        searchable="true"
        placeholder="'Select Alignment'"
        className="'width-15'"
      ></stackdriver-picker>
    </div>

    <div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div>
  </div>
</div>
<div class="gf-form-inline">
  <div class="gf-form">
    <label class="gf-form-label query-keyword width-9">Alignment Period</label>
    <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">
      <stackdriver-picker
        onChange="ctrl.handleAlignmentPeriodChange"
        selected="ctrl.target.aggregation.alignmentPeriod"
        options="ctrl.alignmentPeriods"
        searchable="true"
        placeholder="'Select Alignment'"
        className="'width-15'"
      ></stackdriver-picker>
    </div>
  </div>

  <div class="gf-form gf-form--grow">
    <label ng-if="alignmentPeriod" class="gf-form-label gf-form-label--grow"> {{ ctrl.formatAlignmentText() }} </label>
  </div>
</div>
